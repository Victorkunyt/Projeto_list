generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url  = env("DATABASE_URL")
}


model User {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  name          String
  holderid      String
  cellphone     String 
  email         String
  gender        String
  password      String
  status        Boolean
  created_at    DateTime?     @default(now())
  updated_at    DateTime?     @default(now())
  refreshToken  RefreshToken?
  tasks         Task[]       @relation("UserTasks")
  @@map("Users")
}

model Task {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  nametask      String
  category      Category?     @relation(fields: [categoryId], references: [id]) 
  categoryId    String?       @map("category_id") @db.ObjectId
  user          User?         @relation("UserTasks", fields: [userId], references: [id])
  userId        String?       @map("user_id") @db.ObjectId
  status        Boolean
  created_at    DateTime?     @default(now())
  updated_at    DateTime?     @default(now())
  
  @@map("Tasks")
}

model Category {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  nameCategory  String
  tasks         Task[]       
  status        Boolean
  @@map("Categories")
}

model RefreshToken {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  expiresIn    Int
  User     User  @relation(fields: [UserId], references: [id])  
  UserId   String    @map("_userId") @unique @db.ObjectId
  @@map("RefreshToken")
}








